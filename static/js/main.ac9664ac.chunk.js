(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{103:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=a(15),i=(a(103),a(19)),l=a.n(i),u=a(32),d=a(40),m={GET_ALL_COUNTRIES:"GET_ALL_COUNTRIES"},v={SELECT_COUNTRY:"SELECT_COUNTRY"},p="SET_ZOOM_AND_POSITION",f=(a(105),a(233)),h=a(237),b=a(238);var y=Object(s.b)(null,(function(e){return{getCountries:function(t){return e({type:m.GET_ALL_COUNTRIES,payload:t})},getCountry:function(t){return e({type:v.SELECT_COUNTRY,payload:t})},setZoomAndPosition:function(t){return e({type:p,payload:t})}}}))((function(e){var t=e.getCountries,a=e.getCountry,o=e.setZoomAndPosition,c=Object(n.useState)([]),s=Object(d.a)(c,2),i=s[0],m=s[1],v=Object(n.useState)("worldwide"),p=Object(d.a)(v,2),y=p[0],_=p[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json().then((function(e){m(e),t(e)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){a(e);o({zoom:3,position:[38,-97]})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),_("worldwide")};return Object(n.useEffect)((function(){E()}),[]),r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Covid-19 data tracker"),r.a.createElement(f.a,{className:"header__dropdown"},r.a.createElement(h.a,{variant:"outlined",value:y,onChange:function(e){var t=e.target.value;"worldwide"!==t&&(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries/".concat(t,"?strict=true")).then((function(e){return e.json()})).then((function(e){a(e);var t={zoom:5,position:[e.countryInfo.lat,e.countryInfo.long]};o(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),_(t))}},r.a.createElement(b.a,{value:"worldwide",onClick:function(e){return E(e)}},"worldwide"),i.map((function(e){return r.a.createElement(b.a,{value:e.country},e.country)})))))})),_=(a(106),"SET_TYPE");a(107);var E=Object(s.b)(null,(function(e){return{setType:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cases";return{type:_,payload:e}}(t))}}}))((function(e){var t=e.title,a=e.newData,n=e.totalData,o=e.type,c=e.setType,s=e.isActive,i=e.isRed,l=e.isBlue,u=e.isGreen;return r.a.createElement("div",{className:"infobox ".concat(s&&"infobox__active"," ").concat(i&&"infobox__active--red"," ").concat(l&&"infobox__active--blue"," ").concat(u&&"infobox__active--green"),onClick:function(){return c(o)}},r.a.createElement("div",{className:"infobox__title"},t),r.a.createElement("div",{className:"infobox__newdata"},"today's: ",a),r.a.createElement("div",{className:"infobox__total"},"total: ",n))}));a(108);var g=Object(s.b)((function(e){return{country:e.country,active:e.active.type}}))((function(e){var t=e.country,a=e.active;return r.a.createElement("div",{className:"infobox-c"},r.a.createElement(E,{isBlue:"cases"===a,isActive:"cases"===a,type:"cases",title:"cases",newData:t.todayCases,totalData:t.cases}),r.a.createElement(E,{isActive:"recovered"===a,isGreen:"recovered"===a,title:"recovered",type:"recovered",newData:t.todayRecovered,totalData:t.recovered}),r.a.createElement(E,{isRed:"deaths"===a,isActive:"deaths"===a,title:"deaths",type:"deaths",newData:t.todayDeaths,totalData:t.deaths}))})),O=a(241),N=a(242),j=(a(109),a(239)),w=a(240);var C=Object(s.b)((function(e){return{countries:e.countries,active:e.active.type,zoom:e.map.zoom,position:e.map.position}}))((function(e){var t=e.countries,a=e.active,o=e.position,c=e.zoom,s=Object(n.useState)(t),i=Object(d.a)(s,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){u(t)}),[t]),r.a.createElement("div",{className:"map"},r.a.createElement(O.a,{center:o,zoom:c},r.a.createElement(N.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),function(e){var t,a,n,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",s=Object.values(e);return"cases"===c?(a=.4,n="#555555",o="#555555",t=1e3):"deaths"===c?(a=.4,n="red",o="red",t=2e3):"recovered"===c&&(a=.4,n="green",o="green",t=1500),s.map((function(e){var s=[e.countryInfo.lat,e.countryInfo.long],i="cases"===c&&Math.sqrt(e.cases)*t||"recovered"===c&&Math.sqrt(e.recovered)*t||"deaths"===c&&Math.sqrt(e.deaths)*t;return r.a.createElement(j.a,{center:s,fillOpacity:a,color:n,fillColor:o,radius:i},r.a.createElement(w.a,{className:"popup"},r.a.createElement("div",{className:"popup__flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),r.a.createElement("div",{className:"popup__info"},r.a.createElement("p",null,e.country),r.a.createElement("p",null,"active: ",e.active),r.a.createElement("p",null,"total deaths: ",e.deaths))))}))}(l,a)))})),T=a(88),S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cases";return{labels:e,datasets:[{label:a,fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.9)",borderColor:"red",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t}]}},x="SET_HISTORY";a(205);var R=Object(s.b)((function(e){return console.log("state in mapStateToProps of LineGraph = ",e),{type:e.active.type,labels:e.history.history.labels,historyData:e.history.history.data}}),(function(e){return{getHistory:function(t){return e(function(e){return{type:x,payload:e}}(t))}}}))((function(e){var t=e.type,a=e.getHistory,o=e.labels,c=e.historyData;return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=all").then((function(e){return e.json()})).then((function(e){console.log("info from linegraph = ",e);var n={labels:Object.keys(e[t]),data:Object.values(e[t])};a(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,c]),r.a.createElement("div",{className:"linegraph"},r.a.createElement(T.Line,{data:S(o,c,t)}))}));a(206);var D=Object(s.b)((function(e){return{countries:e.countries}}))((function(e){var t=e.countries;return r.a.createElement("table",{className:"table"},r.a.createElement("tr",{className:"table__row--heading"},r.a.createElement("th",{className:"table__heading"},"country"),r.a.createElement("th",{className:"table__heading"},"total cases"),r.a.createElement("th",{className:"table__heading"},"today cases"),r.a.createElement("th",{className:"table__heading"},"total recovered"),r.a.createElement("th",{className:"table__heading"},"today recovered"),r.a.createElement("th",{className:"table__heading"},"total deaths"),r.a.createElement("th",{className:"table__heading"},"today deaths"),r.a.createElement("th",{className:"table__heading"},"active"),r.a.createElement("th",{className:"table__heading"},"critical"),r.a.createElement("th",{className:"table__heading"},"population")),Object.values(t).map((function(e){return r.a.createElement("tr",{className:"table__row--data"},r.a.createElement("td",{className:"table__data"},e.country),r.a.createElement("td",{className:"table__data"},e.cases),r.a.createElement("td",{className:"table__data"},e.todayCases),r.a.createElement("td",{className:"table__data"},e.recovered),r.a.createElement("td",{className:"table__data"},e.todayRecovered),r.a.createElement("td",{className:"table__data"},e.deaths),r.a.createElement("td",{className:"table__data"},e.todayDeaths),r.a.createElement("td",{className:"table__data"},e.active),r.a.createElement("td",{className:"table__data"},e.critical),r.a.createElement("td",{className:"table__data"},e.population))})))}));var k=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(y,null),r.a.createElement(g,null),r.a.createElement(R,null),r.a.createElement(C,null),r.a.createElement("div",{className:"app__tableWrapper"},r.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(38),L=a(14),A=function(e){return{country:null===e||void 0===e?void 0:e.country,todayCases:e.todayCases,cases:e.cases,todayRecovered:e.todayRecovered,recovered:e.recovered,todayDeaths:e.todayDeaths,deaths:e.deaths,population:e.population}},z={country:"",todayCases:0,cases:0,todayRecovered:0,recovered:0,todayDeaths:0,deaths:0,population:0},B={},H={type:"cases"},U={zoom:3,position:[38,-97]},G={history:{labels:[],data:[]}},Y=Object(I.b)({country:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SELECT_COUNTRY:return Object(L.a)(Object(L.a)({},e),A(t.payload));default:return e}},countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_ALL_COUNTRIES:return Object(L.a)(Object(L.a)({},e),t.payload);default:return e}},active:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(L.a)(Object(L.a)({},e),{},{type:t.payload});default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(L.a)(Object(L.a)({},e),{},{zoom:t.payload.zoom,position:t.payload.position});default:return e}},history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(L.a)(Object(L.a)({},e),{},{history:t.payload});default:return e}}}),M=Object(I.c)(Y);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:M},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(207)}},[[94,1,2]]]);
//# sourceMappingURL=main.ac9664ac.chunk.js.map